<layout-header icon="cog" breadcrumb="['System', 'Email Templates']">
    <button-back url="admin/emailtemplates"></button-back>
</layout-header>

<section class="well" ng-controller="ctrlForm">
    <form class="form-horizontal" autocomplete="off" novalidate>
        
        <fieldset>
            <legend>Basic Information</legend>

            <message message="form.message" type="form.messageType" model="form"></message>

            <textbox name="name" maxlength="100" required model="form"></textbox>

            <textbox name="slug" maxlength="100" required model="form">
                <p class="note"><strong>Note: </strong>Please enter slug. Slug should be lowercase and should not have any empty space.</p>
            </textbox>

            <textbox name="subject" maxlength="100" required model="form"></textbox>

            <ckeditor name="content" model="form"></ckeditor>

        </fieldset>       
       

        <form-actions>
            <save click="form.submit()"></save>
            <save-continue click="form.submitAndContinue()"></save-continue>
        </form-actions>

    </form>
</section>

@section scripts{

    <script>
        myApp.controller('ctrlForm', ['$scope', '$http', 'spinxForm', function ($scope, $http, spinxForm) {

            var apiUrl = 'api/admin/emailtemplates';
            var url = 'admin/emailtemplates';
            $scope.form = new spinxForm(url, apiUrl);           

        }]);

    </script>

}